<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¦®é‹ï¼šä¸–é“å®ˆé–€äºº - Anime Edition</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@700&family=Noto+Sans+TC:wght@400;700&display=swap');

        :root {
            --datong: #D4AF37;   /* é»ƒé‡‘ç››ä¸– */
            --xiaokang: #4A90E2; /* ç§©åºè— */
            --chaos: #E74C3C;    /* æ··äº‚ç´… */
            --bg-dark: #121212;
            --panel: rgba(30, 30, 30, 0.95);
        }

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            font-family: 'Noto Sans TC', sans-serif;
            background-color: var(--bg-dark);
            color: #eee;
            overflow: hidden;
        }

        /* éŠæˆ²å¤§å®¹å™¨ */
        #master-container {
            width: 100%; height: 100%;
            display: flex; justify-content: center; align-items: center;
            background: radial-gradient(circle, #2c3e50 0%, #000 100%);
        }

        /* --- é€²å…¥ç•«é¢ --- */
        #start-screen {
            position: absolute; width: 100%; height: 100%;
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), 
                        url('https://images.unsplash.com/photo-1528164344705-47542687990d?auto=format&fit=crop&q=80&w=1000') center/cover;
            z-index: 1000; display: flex; flex-direction: column; justify-content: center; align-items: center;
            transition: opacity 1s;
        }

        .title-box {
            text-align: center; border: 4px solid var(--datong);
            padding: 40px 60px; background: rgba(0,0,0,0.8);
            box-shadow: 0 0 30px var(--datong);
        }
        .title-box h1 { font-family: 'Noto Serif TC', serif; font-size: 4rem; margin: 0; color: var(--datong); letter-spacing: 10px; }
        .title-box p { font-size: 1.5rem; letter-spacing: 2px; }

        .start-btn {
            margin-top: 50px; padding: 15px 50px; font-size: 1.8rem;
            background: var(--datong); border: none; color: black; font-weight: bold;
            cursor: pointer; transition: 0.3s; clip-path: polygon(10% 0, 100% 0, 90% 100%, 0% 100%);
        }
        .start-btn:hover { transform: scale(1.1); background: #fff; }

        /* --- éŠæˆ²ä¸»é«” --- */
        #game-interface {
            display: none; width: 1000px; height: 750px;
            background: var(--panel); border: 2px solid #444;
            flex-direction: column; position: relative; box-shadow: 0 0 50px rgba(0,0,0,1);
        }

        /* é ‚éƒ¨è³‡è¨Š */
        .game-header {
            padding: 20px; display: flex; justify-content: space-between; align-items: center;
            border-bottom: 2px solid #555; background: #000;
        }
        .round-info { font-size: 1.5rem; font-weight: bold; color: var(--datong); }
        .score-info { font-size: 1.2rem; }

        /* è§’è‰²ç«‹ç¹ªå€ (æ—¥ç³»é¢¨æ ¼é‡é») */
        .character-stage {
            flex-grow: 1; display: flex; position: relative; padding: 40px;
            background: linear-gradient(to bottom, #1a1a1a, #333);
        }

        .portrait-container {
            flex: 1; display: flex; justify-content: center; align-items: flex-end;
            position: relative; overflow: hidden;
        }
        /* æ¨¡æ“¬å‹•æ¼«ç«‹ç¹ªç‰¹æ•ˆ */
        .anime-portrait {
            font-size: 12rem; filter: drop-shadow(0 0 20px rgba(255,255,255,0.3));
            animation: float 3s infinite ease-in-out;
        }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }

        /* å°è©±æ¡† (Visual Novel é¢¨æ ¼) */
        .dialogue-panel {
            flex: 1.5; display: flex; flex-direction: column; justify-content: center; padding: 20px;
        }
        .char-name-tag {
            background: var(--datong); color: black; padding: 5px 20px;
            font-size: 1.8rem; font-weight: bold; display: inline-block; width: fit-content;
            margin-bottom: 15px;
        }
        .char-speech-text {
            font-size: 2rem; line-height: 1.6; color: white; text-shadow: 2px 2px 4px #000;
        }

        /* åˆ†é¡æŒ‰éˆ• */
        .action-bar {
            display: flex; gap: 15px; padding: 30px; background: #111;
        }
        .action-btn {
            flex: 1; padding: 20px; font-size: 1.6rem; font-weight: bold; cursor: pointer;
            border: 2px solid transparent; transition: 0.3s; font-family: 'Noto Serif TC';
        }
        .btn-dt { background: #222; color: var(--datong); border-color: var(--datong); }
        .btn-xk { background: #222; color: var(--xiaokang); border-color: var(--xiaokang); }
        .btn-ch { background: #222; color: var(--chaos); border-color: var(--chaos); }
        .action-btn:hover { background: white; color: black; transform: translateY(-5px); }

        /* è©³è§£å½ˆçª— */
        #overlay {
            display: none; position: absolute; inset: 0; background: rgba(0,0,0,0.95);
            z-index: 500; flex-direction: column; justify-content: center; align-items: center; padding: 60px;
        }
        .result-head { font-size: 3rem; margin-bottom: 20px; }
        .quote-card {
            background: #222; border-left: 8px solid var(--datong); padding: 30px;
            margin: 20px 0; width: 80%;
        }
        #exp-quote { font-size: 2.2rem; color: #ffd700; line-height: 1.4; }
        #exp-detail { font-size: 1.6rem; color: #ccc; margin-top: 20px; }
        .next-btn { margin-top: 40px; padding: 15px 60px; font-size: 1.5rem; cursor: pointer; }

        /* å­—é«”å¤§å­—è™Ÿèª¿æ•´ */
        h2 { font-size: 2.5rem; }
    </style>
</head>
<body>

<div id="master-container">
    <div id="start-screen">
        <div class="title-box">
            <h1>ç¦®é‹ï¼ä¸–é“ç·¨å¹´</h1>
            <p>å¤§é“ä¹‹è¡Œï¼Œç©¶ç«Ÿé€šå¾€ä½•æ–¹ï¼Ÿ</p>
        </div>
        <div style="max-width: 700px; text-align: center; margin-top: 30px; font-size: 1.4rem; line-height: 1.8; background: rgba(0,0,0,0.5); padding: 20px;">
            ã€Œæ˜”è€…ï¼Œä»²å°¼åƒèˆ‡é­¯åœ‹ä¹‹ç¥­ï¼Œäº‹ç•¢å–Ÿç„¶è€Œæ­...ã€<br>
            æ™‚ä»£çš„å·¨è¼ªæ­£åœ¨è½‰å‹•ï¼Œä½ æ˜¯å­”å­èº«æ—çš„å¼•è·¯äººã€‚<br>
            è«‹è§€å¯Ÿå‰ä¾†æŠ•é çš„è¬æ°‘ï¼Œåˆ¤æ–·ä»–å€‘çš„å¿ƒå¿—ï¼Œå°‡å…¶å°å‘æ­£ç¢ºçš„ä¸–ç•Œã€‚
        </div>
        <button class="start-btn" onclick="startGame()">é€²å…¥éŠæˆ²</button>
    </div>

    <div id="game-interface">
        <div class="game-header">
            <div class="round-info" id="round-idx">ROUND 1 / 10</div>
            <div class="score-info">åŒæ­¥ç‡ï¼š<span id="score-val" style="color:var(--datong)">0</span> %</div>
        </div>

        <div class="character-stage">
            <div class="portrait-container">
                <div class="anime-portrait" id="char-icon">ğŸ‘¨â€ğŸŒ¾</div>
            </div>
            <div class="dialogue-panel">
                <div class="char-name-tag" id="char-name">è§’è‰²å§“å</div>
                <div class="char-speech-text" id="char-speech">ã€Œé€™è£¡æ˜¯å°è©±å…§å®¹...ã€</div>
            </div>

            <div id="overlay">
                <div class="result-head" id="exp-status">åˆ¤å®šæˆåŠŸ</div>
                <div class="quote-card">
                    <div id="exp-quote">ã€Œå¤§é“ä¹‹è¡Œä¹Ÿï¼Œå¤©ä¸‹ç‚ºå…¬ã€‚ã€</div>
                </div>
                <div id="exp-detail">é€™è£¡æ˜¯å°æ‡‰åŸæ–‡çš„æ·±åº¦è§£æå…§å®¹ã€‚</div>
                <button class="next-btn" onclick="nextCharacter()">ç¢ºèªï¼Œä¸‹ä¸€ä½ â”</button>
            </div>
        </div>

        <div class="action-bar">
            <button class="action-btn btn-dt" onclick="classify('å¤§åŒ')">å¤§åŒä¸–ç•Œ<br><small>THE GREAT UNITY</small></button>
            <button class="action-btn btn-xk" onclick="classify('å°åº·')">å°åº·ç¤¾æœƒ<br><small>MODEST PROSPERITY</small></button>
            <button class="action-btn btn-ch" onclick="classify('äº‚ä¸–')">ç§æ…¾äº‚ä¸–<br><small>THE CHAOS</small></button>
        </div>
    </div>
</div>

<script>
    const citizens = [
        { name: "è€è¾² ä¼¯ç›Š", icon: "ğŸŒ¾", speech: "æ—¢ç„¶æœ‰åŠ›æ°£ï¼Œæˆ‘å°±å¤šè€•å¹¾ç•åœ°ã€‚é€™ç³§é£Ÿåˆ†çµ¦æ‘è£¡æ²’é£¯åƒçš„äººï¼Œæˆ‘ä¸å¿…ç•™çµ¦è‡ªå·±ã€‚", correct: "å¤§åŒ", quote: "åŠ›æƒ¡å…¶ä¸å‡ºæ–¼èº«ä¹Ÿï¼Œä¸å¿…ç‚ºå·±ã€‚", detail: "é€™æ˜¯å¤§åŒç¤¾æœƒçš„æ ¸å¿ƒï¼šäººäººæ¨‚æ–¼ä»˜å‡ºé«”åŠ›ï¼Œè€Œä¸ä»¥æ­¤è¬€æ±‚ç§åˆ©ã€‚" },
        { name: "å£«å¤§å¤« å­£åº·", icon: "ğŸ“œ", speech: "è¦çŸ©ä¸èƒ½å»¢ï¼æˆ‘èº«ç‚ºå¤§äººï¼Œé€™çˆµä½å‚³çµ¦æˆ‘å…’å­æ˜¯å¤©ç¶“åœ°ç¾©çš„ã€‚æˆ‘å€‘å®¶ç¥­ç¥€å¾ä¸é¦¬è™ã€‚", correct: "å°åº·", quote: "å¤§äººä¸–åŠä»¥ç‚ºç¦®ï¼ŒåŸéƒ­æºæ± ä»¥ç‚ºå›ºã€‚", detail: "é€²å…¥å¤©ä¸‹ç‚ºå®¶å¾Œï¼Œä¸–è¥²åˆ¶åº¦(ä¸–åŠ)èˆ‡å®¶æ—é˜²ç¦¦æˆäº†å°åº·ç¤¾æœƒçš„å¸¸æ…‹ã€‚" },
        { name: "åŸé˜²è¡›éšŠ", icon: "ğŸ›¡ï¸", speech: "æŒ–æ·±è­·åŸæ²³ï¼Œå»ºé«˜åŸç‰†ï¼é€™äº‚ä¸–è£¡ï¼Œåªæœ‰å®ˆä½è‡ªå®¶çš„è²¡ç”¢å’ŒåœŸåœ°ï¼Œæ‰æ˜¯æœ€ç©©å¦¥çš„ã€‚", correct: "å°åº·", quote: "åŸéƒ­æºæ± ä»¥ç‚ºå›ºï¼Œç¦®ç¾©ä»¥ç‚ºç´€ã€‚", detail: "å°åº·ç¤¾æœƒä»¥ç‰©ç†çš„åŸé˜²èˆ‡å¿ƒç†çš„ç¦®æ³•ä¾†ç¶­æŒç§æœ‰åˆ¶çš„ç§©åºã€‚" },
        { name: "å¯¡å©¦ å¯§å«‚", icon: "ğŸ‘©", speech: "è‡ªå¾ä¸ˆå¤«èµ°å¾Œï¼Œé„°é‡Œé–“å°±åƒè¦ªå…„å¼Ÿä¸€æ¨£ç…§é¡§æˆ‘ã€‚é€™å­©å­ä¸æ˜¯ä»–å€‘ç”Ÿçš„ï¼Œä»–å€‘å»ç•¶è¦ªç”Ÿçš„é¤Šã€‚", correct: "å¤§åŒ", quote: "ä¸ç¨è¦ªå…¶è¦ªï¼Œä¸ç¨å­å…¶å­...çŸœå¯¡å­¤ç¨è€…çš†æœ‰æ‰€é¤Šã€‚", detail: "æ‰“ç ´è¡€ç·£é™åˆ¶çš„æ„›ï¼Œä½¿è€å¼±å©¦å­ºçš†èƒ½å®‰èº«ç«‹å‘½ã€‚" },
        { name: "å¥¸å®¢ æ¢Ÿé¦–", icon: "âš”ï¸", speech: "å…µè’é¦¬äº‚æ­£æ˜¯ç™¼è²¡çš„å¥½æ©Ÿæœƒï¼ç¦®ç¾©èƒ½åƒå—ï¼Ÿèª°æ“‹æˆ‘çš„è²¡è·¯ï¼Œæˆ‘çš„åˆ€å°±ä¸èªäººã€‚", correct: "äº‚ä¸–", quote: "æ•…è¬€ç”¨æ˜¯ä½œï¼Œè€Œå…µç”±æ­¤èµ·ã€‚", detail: "å¤§é“æ—¢éš±ä¸”ç¦®ç¾©ä¸å­˜ï¼Œäººå€‘ç´”ç²¹ç‚ºäº†ç§æ…¾çˆ­é¬¥ï¼Œé€™ä¾¿æ˜¯äº‚ä¸–ä¹‹æºã€‚" },
        { name: "é¸è³¢å®˜ æè¨€", icon: "ğŸ“", speech: "æˆ‘å€‘æŒ‘é¸äººæ‰ä¸çœ‹èƒŒæ™¯ï¼Œåªè¦ä»–æœ‰æ‰å¹¹ã€è¬›ä¿¡ç”¨ï¼Œèƒ½èˆ‡äººå’Œç¦ç›¸è™•ï¼Œå°±æ˜¯æˆ‘å€‘è¦æ‰¾çš„äººã€‚", correct: "å¤§åŒ", quote: "é¸è³¢èˆ‡èƒ½ï¼Œè¬›ä¿¡ä¿®ç¦ã€‚", detail: "å¤§åŒä¸–ç•Œå¼·èª¿å…¬å¹³é¸æ‹”äººæ‰ï¼Œå»ºç«‹èª ä¿¡èˆ‡å’Œç¦çš„ç¤¾æœƒé—œä¿‚ã€‚" },
        { name: "ç¹”å¥³ é’å¨˜", icon: "ğŸ§µ", speech: "æˆ‘æœ‰é€™é–€æ‰‹è—ï¼Œä¸æ‹¿å»è³£éŒ¢ï¼Œçœ‹èª°å®¶æ²’è¡£ç©¿å°±çµ¦èª°ã€‚å¤§å®¶éƒ½æ˜¯å¤©ä¸‹çš„ä¸»äººï¼Œä¸ç”¨åˆ†ä½ æˆ‘ã€‚", correct: "å¤§åŒ", quote: "è²¨æƒ¡å…¶æ£„æ–¼åœ°ä¹Ÿï¼Œä¸å¿…è—æ–¼å·±ã€‚", detail: "çæƒœè³‡æºä¸¦é¡˜æ„èˆ‡çœ¾äººå…±äº«ï¼Œä¸è¦–è²¡è²¨ç‚ºç§äººå›Šä¸­ç‰©ã€‚" },
        { name: "å®˜å åš´æ³•", icon: "ğŸ–‹ï¸", speech: "å¦‚æœä¸æŒ‰ç¦®ç¯€ä¾†ï¼Œä¸ç®¡æ˜¯èª°éƒ½è¦ç½·é»œã€‚æˆ‘å€‘è¦ç”¨æ³•åº¦è€ƒé©—äººå€‘çš„èª ä¿¡ï¼Œè­¦æƒ•å¤§å®¶åˆ¥çŠ¯éŒ¯ã€‚", correct: "å°åº·", quote: "ä»¥è‘—å…¶ç¾©ï¼Œä»¥è€ƒå…¶ä¿¡ï¼Œè‘—æœ‰éï¼Œåˆ‘ä»è¬›è®“ã€‚", detail: "å°åº·ç¤¾æœƒé€šéç¦®å„€æ³•åº¦ä¾†è¦ç¯„è¡Œç‚ºï¼Œä¸¦å»ºç«‹æ˜ç¢ºçš„è³ç½°æ©Ÿåˆ¶ã€‚" },
        { name: "æ¬Šå•† å³è€é—†", icon: "ğŸ’°", speech: "æˆ‘é›‡äººè“‹é€™å¤§æˆ¿å­å°±æ˜¯ç‚ºäº†å…‰å®—è€€ç¥–ï¼Œè®“å¤§å®¶çœ‹çœ‹æˆ‘å¤šæœ‰æœ¬äº‹ã€‚åˆ¥äººå®¶çš„ç”°ï¼Œæˆ‘æƒ³è¾¦æ³•å¼„éä¾†ä¹Ÿæ˜¯æˆ‘çš„æœ¬äº‹ã€‚", correct: "äº‚ä¸–", quote: "ä»¥åŠŸç‚ºå·±ã€‚æ•…è¬€ç”¨æ˜¯ä½œã€‚", detail: "é›–ç„¶å£ä¸­è«‡åŠŸæ¥­ï¼Œä½†å…¶å¿ƒæ…‹æ˜¯æ å¥ªå¼çš„ç§æ…¾ï¼Œæœ€çµ‚å°è‡´è¬€ç•¥èˆ‡æ··äº‚ã€‚" },
        { name: "å·¥åŒ  é­¯ä¼¯", icon: "ğŸ”¨", speech: "æˆ‘è“‹æˆ¿å­çš„æ™‚å€™ç¸½åœ¨æƒ³ï¼Œé€™æˆ¿å­å¾—ç¬¦åˆç¦®åˆ¶ï¼Œè®“å°Šå‘æœ‰åºï¼Œé€™ç¤¾æœƒæ‰èƒ½å®‰å®šå¾—ä¸‹ä¾†ã€‚", correct: "å°åº·", quote: "ä»¥è¨­åˆ¶åº¦ï¼Œä»¥ç«‹ç”°é‡Œï¼Œä»¥å’Œå¤«å©¦ã€‚", detail: "é€éç‰©è³ªç©ºé–“èˆ‡ç¤¾æœƒåˆ¶åº¦çš„é…åˆï¼Œå»ºç«‹ç©©å®šçš„å®¶åº­èˆ‡ç¤¾æœƒç§©åºã€‚" }
    ];

    let currentIndex = 0;
    let score = 0;

    function startGame() {
        document.getElementById('start-screen').style.opacity = '0';
        setTimeout(() => {
            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('game-interface').style.display = 'flex';
            loadCharacter();
        }, 1000);
    }

    function loadCharacter() {
        if (currentIndex >= citizens.length) {
            showFinalResult();
            return;
        }
        const c = citizens[currentIndex];
        document.getElementById('round-idx').innerText = `ROUND ${currentIndex + 1} / 10`;
        document.getElementById('char-name').innerText = c.name;
        document.getElementById('char-icon').innerText = c.icon;
        document.getElementById('char-speech').innerText = `ã€Œ${c.speech}ã€`;
    }

    function classify(choice) {
        const c = citizens[currentIndex];
        const isCorrect = choice === c.correct;
        
        if (isCorrect) score++;

        document.getElementById('score-val').innerText = Math.round((score / (currentIndex + 1)) * 100);
        document.getElementById('exp-status').innerText = isCorrect ? "åˆ¤å®šæˆåŠŸ â­•" : "åˆ¤å®šåå·® âŒ";
        document.getElementById('exp-status').style.color = isCorrect ? "var(--datong)" : "var(--chaos)";
        document.getElementById('exp-quote').innerText = `ã€Œ${c.quote}ã€`;
        document.getElementById('exp-detail').innerText = c.detail;
        document.getElementById('overlay').style.display = 'flex';
    }

    function nextCharacter() {
        document.getElementById('overlay').style.display = 'none';
        currentIndex++;
        loadCharacter();
    }

    function showFinalResult() {
        const container = document.getElementById('game-interface');
        let rank = score >= 9 ? "ã€å¤§åŒä¹‹é“ã€‘ä»²å°¼å‚³äºº" : (score >= 6 ? "ã€å°åº·ä¹‹ç¦®ã€‘ä¸–é–“è‰¯è‡£" : "ã€äº‚ä¸–é¤˜ç«ã€‘åˆå‡ºèŒ…å»¬");
        container.innerHTML = `
            <div style="display:flex; flex-direction:column; justify-content:center; align-items:center; height:100%; text-align:center; background:#000;">
                <h1 style="font-size:4rem; color:var(--datong);">${rank}</h1>
                <p style="font-size:2rem;">å¯©æ ¸æ­£ç¢ºç‡ï¼š${score * 10}%</p>
                <button class="start-btn" onclick="location.reload()">é‡æ–°éŠæ­·</button>
            </div>`;
    }
</script>
</body>
</html>